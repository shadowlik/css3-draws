/** @author: Henrique Marques Fernandes
*** @authorEmail: henrique@marquesfernandes.com
*** @date: 01/03/2017
*** @license: GLP (https://opensource.org/licenses/GPL-3.0)
**/

// Colors */
$bodyColor: #feedc5;
$blueHat: #00bac6;
$yellow: #ffe11d;
$brown: #79472e;
$shoes: #2c2c34;
$red: #EC3458;

//Sizes */
//TODO improve the sizes variables - make all sizes proportional
//Supply only one size, the other should be 0, if two are supplied width is default
$width: 200;

// Calculations
@if $width > 0 {


} @else {


}

body,html {
  background:#eee;
  height:100%;
}

.table-w {
  display:table;
  height:100%;
  width:100%;
  text-align:center;
  .table-c {
    display:table-cell;
    vertical-align:middle;
  }
}

$width:280px;


$headWidth:$width*0.7142857142857143;
$headHeight: $headWidth*0.9;
$bodyWidth: $width*0.8571428571428571;
$bodyHeight: $bodyWidth*0.4166666666666667;
$handWidth: $bodyWidth*0.208333333333;
$handHeight: $handWidth*0.6;
$handLeft:-$handWidth*0.4;
$mainPadding:-$handLeft;

.cartman {
  position:relative;
  display:inline-block;
  padding:0 $mainPadding;
  .head {
    width:$headWidth;
    height:$headHeight;
    -webkit-border-radius:50%;
    -moz-border-radius:50%;
    border-radius:50%;
    background:$bodyColor;
    position:relative;
    display:inline-block;
    &:after {
      content: " ";
      width: $headWidth/2;
      height: ($headWidth/2)*0.3;
      border-bottom: solid 1px #333;
      -webkit-border-radius: 45%;
      -moz-border-radius: 45%;
      border-radius: 45%;
      position: absolute;
      $headAfterLeft: ($headWidth/2)/2;
      left: calc(50% - #{$headAfterLeft});
      bottom: (($headWidth/2)*0.3)*0.2;
    }
    .hat {
      border-top:solid 50px $blueHat;
      width:$headWidth;
      height:$headWidth*0.65;
      -webkit-border-radius:50%;
      -moz-border-radius:50%;
      border-radius:50%;
      position:relative;
      &:after {
        content: " ";
        width: $headWidth;
        height: $headWidth*0.35;
        -webkit-border-radius: 50%;
        -moz-border-radius: 50%;
        border-radius: 50%;
        border-top: solid $headWidth*0.05 #ffe11d;
        position: absolute;
        left: 0;
        top: 0;
        -webkit-box-shadow: 0px -1px 0px 0px rgba(51,51,51,1);
        -moz-box-shadow: 0px -1px 0px 0px rgba(51,51,51,1);
        box-shadow: 0px -1px 0px 0px rgba(51,51,51,1);
      }
      &:before {
        content:" ";
        height:$headWidth*0.1;
        width:$headWidth*0.3;
        background:$yellow;
        position:absolute;
        top:-($headWidth*0.1)*2.75;
        left:calc(50% - #{($headWidth*0.3) /2});
        -webkit-border-radius:50%;
        -moz-border-radius:50%;
        border-radius:50%;
      }
    }
    .eyes {
      position:absolute;
      top:36%;
      width:100%;
      >div {
        width:$headWidth*0.225;
        height:$headWidth*0.3;
        background:#FFF;
        z-index:4;
        left:calc(50% - #{$headWidth/2 + 2});
        border-radius:50%;
        transform: rotate(20deg);
        border-top:solid 3px #999;
        display:inline-block;
        &:after {
          width:$headWidth*0.05;
          height:$headWidth*0.05;
          background:#000;
          top:35%;
          right:$headWidth*0.05;
          content:" ";
          -webkit-border-radius:50%;
          -moz-border-radius:50%;
          border-radius:50%;
          position:absolute;
        }
        &:last-child {
          left:auto;
          right:calc(50% - #{$headWidth/2 + 2});
          transform: rotate(-20deg);
          &:after {
            right:auto;
            left:$headWidth*0.05;
          }
        }
      }
    }
    .mouth {
      border-top: 15px solid #000;
      border-left: 7px solid transparent;
      border-right: 7px solid transparent;
      height: 0;
      width: 20px;
      position:absolute;
      bottom:20px;
      z-index:4;
      right:calc(50% - 15px);
      &:after {
        content:" ";
        height:5px;
        background:#FFF;
        width:120%;
        z-index:5;
        position:absolute;
        left:-10%;
        top:-12px;
      }
      &:before {
        content:" ";
        height:5px;
        background:#FFF;
        width:30%;
        z-index:6;
        position:absolute;
        left:20%;
        border-left:solid 2px #000;
        border-right:solid 2px #000;
        top:-12px;
      }
    }
    z-index:2;
  }
  .body {
    text-align:center;
    background:$red;
    border-top-right-radius: 50%;
    border-top-left-radius: 50%;
    border-bottom-right-radius: 5%;
    border-bottom-left-radius: 5%;
    width:$bodyWidth;
    height: $bodyHeight;
    margin-top:-$bodyHeight/2;
    position:relative;
    z-index:0;
    .buttons {
      width:$bodyWidth*0.0833333333333333;
      border-right:solid 1px $shoes;
      height:$bodyHeight;
      display:inline-block;
      >div {
        display: flex;
        flex-direction: column;
        justify-content: space-around;
        height: $bodyHeight;
        align-items: center;
        div {
          display:block;
          background:$shoes;
          width:$bodyHeight*0.06;
          height:$bodyHeight*0.08;
          border-radius:50%;
        }
      }

    }
    .hand {
      background:$yellow;
      width:$handWidth;
      height:$handHeight;
      border-top-left-radius:50%;
      border-bottom-left-radius:50%;
      border-bottom-right-radius:15%;
      border-top-right-radius:50%;
      position:absolute;
      left: $handLeft;
      top:40%;
      &.right {
        left:auto;
        right:$handLeft;
        -moz-transform: scaleX(-1);
        -o-transform: scaleX(-1);
        -webkit-transform: scaleX(-1);
        transform: scaleX(-1);
        filter: FlipH;
        -ms-filter: "FlipH";
      }
    }
  }
  .foot {
    width:$bodyWidth*0.9166666666666667;
    margin-left:($bodyWidth - ($bodyWidth*0.9166666666666667))/2;
    background:$brown;
    height:$bodyWidth*0.0909090909090909;
    border-bottom-left-radius:30%;
    border-bottom-right-radius:30%;
    position:relative;
    &:after {
      content:" ";
      width:$bodyWidth/2;
      border-top-left-radius:50%;
      border-top-right-radius:50%;
      background:$shoes;
      height:$bodyWidth*0.0363636363636364;
      position:absolute;
      bottom:0;
      z-index:3;
      right:0;
    }
    &:before {
      content:" ";
      width:$bodyWidth/2;
      border-top-left-radius:50%;
      border-top-right-radius:50%;
      background:$shoes;
      height:$bodyWidth*0.0363636363636364;
      position:absolute;
      bottom:0;
      z-index:3;
      left:0;
    }
  }
}